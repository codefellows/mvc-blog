var articleView={};articleView.populateFilters=function(){$("article").each(function(){if(!$(this).hasClass("template")){var e=$(this).find("address a").text(),t='<option value="'+e+'">'+e+"</option>";$("#author-filter").append(t),e=$(this).attr("data-category"),t='<option value="'+e+'">'+e+"</option>",0===$('#category-filter option[value="'+e+'"]').length&&$("#category-filter").append(t)}})},articleView.handleAuthorFilter=function(){$("#author-filter").on("change",function(){$(this).val()?($("article").hide(),$('article[data-author="'+$(this).val()+'"]').fadeIn()):($("article").fadeIn(),$("article.template").hide()),$("#category-filter").val("")})},articleView.handleCategoryFilter=function(){$("#category-filter").on("change",function(){$(this).val()?($("article").hide(),$('article[data-category="'+$(this).val()+'"]').fadeIn()):($("article").fadeIn(),$("article.template").hide()),$("#author-filter").val("")})},articleView.handleMainNav=function(){$(".main-nav").on("click",".tab",function(e){$(".tab-content").hide(),$("#"+$(this).data("content")).fadeIn()}),$(".main-nav .tab:first").click()},articleView.setTeasers=function(){$(".article-body *:nth-of-type(n+2)").hide(),$("#articles").on("click","a.read-on",function(e){e.preventDefault(),$(this).parent().find("*").fadeIn(),$(this).hide()})},articleView.initNewArticlePage=function(){$(".tab-content").show(),$("#export-field").hide(),$("#article-json").on("focus",function(){this.select()}),$("#new-form").on("change","input, textarea",articleView.create)},articleView.create=function(){var e;$("#articles").empty(),e=new Article({title:$("#article-title").val(),author:$("#article-author").val(),authorUrl:$("#article-author-url").val(),category:$("#article-category").val(),body:$("#article-body").val(),publishedOn:$("#article-published:checked").length?util.today():null}),$("#articles").append(e.toHtml()),$("pre code").each(function(e,t){hljs.highlightBlock(t)}),$("#export-field").show(),$("#article-json").val(JSON.stringify(e)+",")},articleView.initIndexPage=function(){articleView.populateFilters(),articleView.handleCategoryFilter(),articleView.handleAuthorFilter(),articleView.handleMainNav(),articleView.setTeasers()};